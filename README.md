# InvoiceVision - æ™ºèƒ½å‘ç¥¨OCRè¯†åˆ«å™¨

<div align="center">

![InvoiceVision Logo](https://img.shields.io/badge/InvoiceVision-2.0-blue?style=for-the-badge&logo=ocr&logoColor=white)
![Python](https://img.shields.io/badge/Python-3.8+-yellow.svg?style=for-the-badge&logo=python&logoColor=white)
![License](https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge)
![Platform](https://img.shields.io/badge/Platform-Windows-blueviolet.svg?style=for-the-badge&logo=windows&logoColor=white)

**åŸºäº PaddleOCR 3.1+ çš„ç¦»çº¿ä¸­æ–‡å‘ç¥¨OCRè¯†åˆ«ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [å®‰è£…éƒ¨ç½²](#-å®‰è£…éƒ¨ç½²) â€¢ [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) â€¢ [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)

</div>

---

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### âœ… æ ¸å¿ƒåŠŸèƒ½
- ğŸ” **é«˜ç²¾åº¦OCRè¯†åˆ«**: åŸºäº PP-OCRv5 æ¨¡å‹ï¼Œè¯†åˆ«å‡†ç¡®ç‡ >95%
- ğŸ“„ **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒ PDFã€JPGã€PNGã€BMP ç­‰å¸¸è§æ ¼å¼
- ğŸš€ **æ‰¹é‡å¤„ç†**: æ”¯æŒå•æ–‡ä»¶ã€å¤šæ–‡ä»¶ã€æ–‡ä»¶å¤¹æ‰¹é‡å¤„ç†
- ğŸ’¾ **æ™ºèƒ½å¯¼å‡º**: è¯†åˆ«ç»“æœè‡ªåŠ¨å¯¼å‡ºä¸º Excel æ ¼å¼
- ğŸ–¥ï¸ **ç°ä»£åŒ–ç•Œé¢**: åŸºäº PyQt5 çš„å‹å¥½ GUI ç•Œé¢

### âœ… æŠ€æœ¯ä¼˜åŠ¿
- ğŸš« **å®Œå…¨ç¦»çº¿**: æ— éœ€ç½‘ç»œè¿æ¥ï¼Œæœ¬åœ°æ¨¡å‹è¿è¡Œ
- ğŸ¯ **æ¨¡å‹åˆ†ç¦»**: exe æ–‡ä»¶ä½“ç§¯å°ï¼ˆ~200MBï¼‰ï¼Œæ¨¡å‹ç‹¬ç«‹ç®¡ç†
- ğŸ”„ **è‡ªåŠ¨ä¸‹è½½**: é¦–æ¬¡è¿è¡Œè‡ªåŠ¨ä¸‹è½½æ‰€éœ€æ¨¡å‹æ–‡ä»¶
- âš¡ **åŒç²¾åº¦æ¨¡å¼**: å¿«é€Ÿæ¨¡å¼ & é«˜ç²¾åº¦æ¨¡å¼å¯é€‰
- ğŸŒ **ä¸­æ–‡ä¼˜åŒ–**: ä¸“ä¸ºä¸­æ–‡å¢å€¼ç¨å‘ç¥¨ä¼˜åŒ–

### âœ… è¯†åˆ«å†…å®¹
- ğŸ·ï¸ å‘ç¥¨ä»£ç  (10-12ä½æ•°å­—)
- ğŸ”¢ å‘ç¥¨å·ç  (8ä½æ•°å­—)
- ğŸ“… å¼€ç¥¨æ—¥æœŸ (YYYYMMDDæ ¼å¼)
- ğŸ¢ å¼€ç¥¨å…¬å¸åç§°
- ğŸ“‹ é¡¹ç›®åç§°
- ğŸ’° é‡‘é¢ï¼ˆä¸å«ç¨ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæ¨èï¼‰
1. ä¸‹è½½ `dist/InvoiceVision.exe`
2. åŒå‡»è¿è¡Œï¼Œé¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹
3. ç•Œé¢å‡ºç°åå³å¯å¼€å§‹ä½¿ç”¨

### æ–¹å¼2: æºä»£ç è¿è¡Œ
```bash
# 1. å®‰è£…ä¾èµ–
python install.py

# 2. å¯åŠ¨ç¨‹åº
python InvoiceVision.py
```

### æ–¹å¼3: ä¸€é”®æ‰“åŒ…
```bash
# Windowsç”¨æˆ·
build.bat

# æˆ–ç›´æ¥è¿è¡Œ
python build_lite.py
```

---

## ğŸ› ï¸ å®‰è£…éƒ¨ç½²

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 7/8/10/11 (64ä½)
- **å†…å­˜**: æœ€ä½ 4GBï¼Œæ¨è 8GB+
- **ç£ç›˜ç©ºé—´**: ç¨‹åº 200MB + æ¨¡å‹ 100MB
- **Python**: 3.8+ (å¼€å‘ç¯å¢ƒéœ€è¦)

### å¼€å‘ç¯å¢ƒå®‰è£…
```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
cd InvoiceVision

# è‡ªåŠ¨å®‰è£…ä¾èµ–
python install.py

# æ£€æŸ¥ç¯å¢ƒ
python check_build.py

# å¯åŠ¨ç¨‹åº
python InvoiceVision.py
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# æ‰“åŒ…ç¨‹åº
python build_lite.py

# éƒ¨ç½²æ–‡ä»¶ä½äº dist/ ç›®å½•
# åŒ…å«: InvoiceVision.exe, deploy.bat, README.md ç­‰
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### GUIæ“ä½œæµç¨‹
1. **å¯åŠ¨ç¨‹åº**: åŒå‡» `InvoiceVision.exe`
2. **é€‰æ‹©ç²¾åº¦**: åœ¨å·¦ä¾§è®¾ç½®ä¸­é€‰æ‹©"å¿«é€Ÿ"æˆ–"é«˜ç²¾"æ¨¡å¼
3. **é€‰æ‹©æ–‡ä»¶**: 
   - ç‚¹å‡»"å¤„ç†PDFæ–‡ä»¶"é€‰æ‹©PDFæ–‡ä»¶
   - ç‚¹å‡»"å¤„ç†å›¾ç‰‡æ–‡ä»¶å¤¹"é€‰æ‹©åŒ…å«å›¾ç‰‡çš„æ–‡ä»¶å¤¹
4. **å¼€å§‹å¤„ç†**: ç¨‹åºè‡ªåŠ¨å¤„ç†å¹¶æ˜¾ç¤ºè¿›åº¦
5. **æŸ¥çœ‹ç»“æœ**: å³ä¾§è¡¨æ ¼æ˜¾ç¤ºè¯†åˆ«ç»“æœ
6. **å¯¼å‡ºæ•°æ®**: ç‚¹å‡»"å¯¼å‡ºExcel"ä¿å­˜ç»“æœ

### å‘½ä»¤è¡Œä½¿ç”¨
```python
from OCRInvoice import OfflineOCRInvoice

# åˆ›å»ºOCRè¯†åˆ«å™¨
ocr = OfflineOCRInvoice()

# è®¾ç½®ç²¾åº¦æ¨¡å¼
ocr.set_precision_mode('å¿«é€Ÿ')  # æˆ– 'é«˜ç²¾'

# è¯†åˆ«å•å¼ å›¾ç‰‡
result = ocr.run_ocr('invoice.jpg')
print(result)  # [æ–‡ä»¶è·¯å¾„, å…¬å¸åç§°, å‘ç¥¨å·ç , æ—¥æœŸ, é‡‘é¢, é¡¹ç›®åç§°]
```

### æ‰¹é‡å¤„ç†
```python
from MainAction import ocr_pdf_offline, ocr_images_offline

# å¤„ç†PDFæ–‡ä»¶
result = ocr_pdf_offline('invoices.pdf', 'å¿«é€Ÿ', './output')

# å¤„ç†å›¾ç‰‡æ–‡ä»¶å¤¹
result = ocr_images_offline('./images/', 'é«˜ç²¾', './output')
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·ç•Œé¢å±‚    â”‚    â”‚   ä¸šåŠ¡é€»è¾‘å±‚    â”‚    â”‚   æ•°æ®å¤„ç†å±‚    â”‚
â”‚                â”‚    â”‚                â”‚    â”‚                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  PyQt5 GUI  â”‚ â”‚    â”‚ â”‚ OCRInvoice  â”‚ â”‚    â”‚ â”‚  PaddleOCR  â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â”‚InvoiceVisionâ”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ MainAction  â”‚ â”‚â—„â”€â”€â–ºâ”‚ â”‚ PP-OCRv5   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é…ç½®ç®¡ç†å±‚    â”‚    â”‚   æ–‡ä»¶å¤„ç†å±‚    â”‚    â”‚   æ¨¡å‹ç®¡ç†å±‚    â”‚
â”‚                â”‚    â”‚                â”‚    â”‚                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚offline_conf â”‚ â”‚    â”‚ â”‚  PDF2IMG    â”‚ â”‚    â”‚ â”‚ModelManager â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â”‚resource_utl â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚   models/   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—
- **InvoiceVision.py**: ä¸»GUIç•Œé¢ï¼Œæä¾›ç”¨æˆ·äº¤äº’
- **OCRInvoice.py**: OCRè¯†åˆ«æ ¸å¿ƒï¼Œå°è£…PaddleOCRåŠŸèƒ½
- **MainAction.py**: æ‰¹é‡å¤„ç†é€»è¾‘ï¼Œåè°ƒå„æ¨¡å—å·¥ä½œ
- **PDF2IMG.py**: PDFè½¬å›¾ç‰‡å·¥å…·ï¼Œæ”¯æŒä¸­æ–‡è·¯å¾„
- **ModelManager.py**: æ¨¡å‹ç®¡ç†å™¨ï¼Œå¤„ç†æ¨¡å‹ä¸‹è½½å’ŒçŠ¶æ€æ£€æŸ¥
- **resource_utils.py**: èµ„æºç®¡ç†å·¥å…·ï¼Œæ”¯æŒå¼€å‘å’Œæ‰“åŒ…ç¯å¢ƒ

### é…ç½®æ–‡ä»¶
```json
{
  "offline_mode": true,
  "models_path": "models",
  "use_gpu": false,
  "lang": "ch",
  "version": "2.0-external-models",
  "description": "å¤–éƒ¨æ¨¡å‹æ¶æ„é…ç½® - æ¨¡å‹æ–‡ä»¶ä¸å†æ‰“åŒ…åˆ°exeä¸­"
}
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### è¯†åˆ«æ€§èƒ½
| æŒ‡æ ‡ | å¿«é€Ÿæ¨¡å¼ | é«˜ç²¾åº¦æ¨¡å¼ |
|------|----------|------------|
| è¯†åˆ«é€Ÿåº¦ | ~2ç§’/é¡µ | ~5ç§’/é¡µ |
| å‡†ç¡®ç‡ | >92% | >96% |
| å†…å­˜ä½¿ç”¨ | ~1GB | ~2GB |

### æ–‡ä»¶æ”¯æŒ
| ç±»å‹ | æ ¼å¼ | è¯´æ˜ |
|------|------|------|
| å›¾ç‰‡ | JPG, PNG, BMP, TIFF | æ”¯æŒå¸¸è§å›¾ç‰‡æ ¼å¼ |
| æ–‡æ¡£ | PDF | è‡ªåŠ¨è½¬æ¢ä¸ºå›¾ç‰‡å¤„ç† |
| æ‰¹é‡ | æ–‡ä»¶å¤¹ | æ”¯æŒæ–‡ä»¶å¤¹æ‰¹é‡å¤„ç† |

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç¨‹åºæ— æ³•å¯åŠ¨
**é—®é¢˜**: åŒå‡»exeæ–‡ä»¶æ— ååº”
**è§£å†³**:
- æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦ä¸º64ä½Windows
- å®‰è£… [Visual C++ Redistributable](https://aka.ms/vs/16/release/vc_redist.x64.exe)
- æ£€æŸ¥æ€æ¯’è½¯ä»¶æ˜¯å¦è¯¯æ‹¦æˆª

#### 2. æ¨¡å‹ä¸‹è½½å¤±è´¥
**é—®é¢˜**: é¦–æ¬¡å¯åŠ¨æç¤ºæ¨¡å‹ä¸‹è½½å¤±è´¥
**è§£å†³**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ä½¿ç”¨æ‰‹åŠ¨ä¸‹è½½æ–¹å¼ï¼š
  ```bash
  # ä¸‹è½½æ¨¡å‹æ–‡ä»¶
  python setup_offline_simple.py
  ```
- ä½¿ç”¨ç¦»çº¿åŒ…éƒ¨ç½²

#### 3. è¯†åˆ«ç²¾åº¦ä½
**é—®é¢˜**: è¯†åˆ«ç»“æœä¸å‡†ç¡®
**è§£å†³**:
- åˆ‡æ¢åˆ°"é«˜ç²¾åº¦"æ¨¡å¼
- ç¡®ä¿å›¾ç‰‡æ¸…æ™°åº¦
- æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å€¾æ–œ
- å°è¯•è°ƒæ•´å›¾ç‰‡å¯¹æ¯”åº¦

#### 4. å†…å­˜ä¸è¶³
**é—®é¢˜**: å¤„ç†å¤§æ–‡ä»¶æ—¶ç¨‹åºå´©æºƒ
**è§£å†³**:
- å…³é—­å…¶ä»–ç¨‹åºé‡Šæ”¾å†…å­˜
- ä½¿ç”¨"å¿«é€Ÿ"æ¨¡å¼
- åˆ†æ‰¹å¤„ç†æ–‡ä»¶

### ç¯å¢ƒæ£€æŸ¥
```bash
# è¿è¡Œç¯å¢ƒæ£€æŸ¥
python check_build.py

# æ£€æŸ¥æ¨¡å‹çŠ¶æ€
python -c "from ModelManager import ModelManager; m = ModelManager(); print(m.check_models_status())"
```

---

## ğŸ”„ ç‰ˆæœ¬å†å²

### v2.0 (å½“å‰ç‰ˆæœ¬) - 2025-08-12
- âœ¨ **æ–°åŠŸèƒ½**: æ¨¡å‹åˆ†ç¦»æ¶æ„ï¼Œexeä½“ç§¯ä¼˜åŒ–
- ğŸš€ **æ€§èƒ½**: å‡çº§åˆ° PaddleOCR 3.1+ å’Œ PP-OCRv5
- ğŸ¨ **ç•Œé¢**: é‡æ–°è®¾è®¡ç°ä»£åŒ–GUIç•Œé¢
- ğŸ”§ **æŠ€æœ¯**: å®Œå–„çš„æ‰“åŒ…ç³»ç»Ÿå’Œéƒ¨ç½²è„šæœ¬
- ğŸ“¦ **éƒ¨ç½²**: æ”¯æŒå•æ–‡ä»¶ã€ç¦»çº¿åŒ…ã€å¼€å‘åŒ…å¤šç§éƒ¨ç½²æ–¹å¼

### v1.0 (å†å²ç‰ˆæœ¬)
- ğŸ¯ **åŸºç¡€**: åŸºäº PaddleOCR 2.1 çš„åŸºæœ¬OCRåŠŸèƒ½
- ğŸ–¥ï¸ **ç•Œé¢**: ç®€å•çš„GUIç•Œé¢
- ğŸ“ **æ¨¡å‹**: æ¨¡å‹æ–‡ä»¶æ‰“åŒ…åœ¨exeä¸­

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **Fork** æœ¬ä»“åº“
2. **åˆ›å»º** ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. **æäº¤** æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€** åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. **åˆ›å»º** Pull Request

### å¼€å‘è§„èŒƒ
- ä½¿ç”¨ PEP 8 ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æµ‹è¯•é€šè¿‡
- æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-repo/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/your-repo/discussions)
- **é‚®ä»¶è”ç³»**: support@invoicevision.com

---

## ğŸ™ è‡´è°¢

- [PaddleOCR](https://github.com/PaddlePaddle/PaddleOCR) - å¼ºå¤§çš„OCRå¼•æ“
- [PyQt5](https://www.riverbankcomputing.com/software/pyqt/) - ä¼˜ç§€çš„GUIæ¡†æ¶
- [PyInstaller](https://www.pyinstaller.org/) - å¯é çš„æ‰“åŒ…å·¥å…·

---

<div align="center">

**ğŸ’– å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Star!**

![Star History](https://img.shields.io/github/stars/your-repo/invoicevision?style=social)

</div>